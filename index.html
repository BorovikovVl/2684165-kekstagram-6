<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Кекстаграм</title>
  <link rel="stylesheet" href="css/style.css">
  <!-- Подключение стилей noUiSlider -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@15.7.1/dist/nouislider.min.css">
  <!-- Подключение стилей Pristine -->
  <link rel="stylesheet" href="vendor/pristine/pristine.min.css">
</head>
<body>
  <!-- Шапка -->
  <header class="header">
    <a class="header__logo logo" href="#">
      <img src="img/logo.svg" width="68" height="68" alt="Логотип Кекстаграма">
    </a>
  </header>

  <!-- Основной контент -->
  <main class="main">
    <section class="pictures container">
      <!-- Фотографии будут вставлены здесь через JavaScript -->
    </section>

    <!-- Блок фильтров -->
    <section class="img-filters img-filters--inactive">
      <form class="img-filters__form">
        <button 
          type="button" 
          class="img-filters__button img-filters__button--active" 
          id="filter-default"
        >
          По умолчанию
        </button>
        <button 
          type="button" 
          class="img-filters__button" 
          id="filter-random"
        >
          Случайные
        </button>
        <button 
          type="button" 
          class="img-filters__button" 
          id="filter-discussed"
        >
          Обсуждаемые
        </button>
      </form>
    </section>
  </main>

  <!-- Форма загрузки изображения -->
  <section class="img-upload">
    <form class="img-upload__form" action="https://31.javascript.htmlacademy.pro/kekstagram" method="post" enctype="multipart/form-data">
      <div class="img-upload__wrapper">
        <div class="img-upload__start">
          <input class="img-upload__input" type="file" name="filename" id="upload-file" accept=".jpg, .jpeg, .png">
          <label class="img-upload__label" for="upload-file">
            <span>Загрузить</span>
          </label>
        </div>
        
        <div class="img-upload__overlay hidden">
          <div class="img-upload__preview-container">
            <div class="img-upload__preview">
              <img src="img/upload-default-image.jpg" alt="Превью загружаемого изображения">
            </div>
            <button class="img-upload__cancel" type="button">×</button>
          </div>
          
          <div class="img-upload__controls">
            <!-- Масштабирование -->
            <div class="img-upload__scale scale">
              <button class="scale__control scale__control--smaller" type="button">Уменьшить</button>
              <input class="scale__control scale__control--value" type="text" value="100%" name="scale" readonly>
              <button class="scale__control scale__control--bigger" type="button">Увеличить</button>
            </div>
            
            <!-- Эффекты -->
            <fieldset class="img-upload__effects effects">
              <legend class="effects__legend">Эффект</legend>
              <ul class="effects__list">
                <li class="effects__item">
                  <input class="effects__radio" type="radio" name="effect" value="none" id="effect-none" checked>
                  <label class="effects__label" for="effect-none">
                    <span class="effects__preview effects__preview--none">Оригинал</span>
                  </label>
                </li>
                <li class="effects__item">
                  <input class="effects__radio" type="radio" name="effect" value="chrome" id="effect-chrome">
                  <label class="effects__label" for="effect-chrome">
                    <span class="effects__preview effects__preview--chrome">Хром</span>
                  </label>
                </li>
                <li class="effects__item">
                  <input class="effects__radio" type="radio" name="effect" value="sepia" id="effect-sepia">
                  <label class="effects__label" for="effect-sepia">
                    <span class="effects__preview effects__preview--sepia">Сепия</span>
                  </label>
                </li>
                <li class="effects__item">
                  <input class="effects__radio" type="radio" name="effect" value="marvin" id="effect-marvin">
                  <label class="effects__label" for="effect-marvin">
                    <span class="effects__preview effects__preview--marvin">Марвин</span>
                  </label>
                </li>
                <li class="effects__item">
                  <input class="effects__radio" type="radio" name="effect" value="phobos" id="effect-phobos">
                  <label class="effects__label" for="effect-phobos">
                    <span class="effects__preview effects__preview--phobos">Фобос</span>
                  </label>
                </li>
                <li class="effects__item">
                  <input class="effects__radio" type="radio" name="effect" value="heat" id="effect-heat">
                  <label class="effects__label" for="effect-heat">
                    <span class="effects__preview effects__preview--heat">Зной</span>
                  </label>
                </li>
              </ul>
            </fieldset>
            
            <!-- Слайдер для эффектов -->
            <div class="img-upload__level effect-level hidden">
              <div class="effect-level__value" title="Значение эффекта">100%</div>
              <div class="effect-level__line">
                <div class="effect-level__pin" tabindex="0">Кнопка изменения уровня эффекта</div>
                <div class="effect-level__depth"></div>
              </div>
              <div class="effect-level__slider"></div>
            </div>
            
            <!-- Хэштеги и комментарий -->
            <div class="img-upload__text">
              <div class="img-upload__field-wrapper">
                <input class="text__hashtags" type="text" name="hashtags" placeholder="#хэштег" maxlength="140">
              </div>
              <div class="img-upload__field-wrapper">
                <textarea class="text__description" name="description" placeholder="Ваш комментарий..." maxlength="140"></textarea>
              </div>
            </div>
            
            <!-- Кнопка отправки -->
            <div class="img-upload__submit">
              <button class="img-upload__submit-btn" type="submit">Опубликовать</button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </section>

  <!-- Шаблон для фотографий -->
  <template id="picture">
    <a href="#" class="picture">
      <img class="picture__img" src="" width="182" height="182" alt="">
      <div class="picture__info">
        <p class="picture__comments"></p>
        <p class="picture__likes"></p>
      </div>
    </a>
  </template>

  <!-- Полноэкранный просмотр фотографии -->
  <section class="big-picture hidden">
    <div class="big-picture__preview">
      <div class="big-picture__img">
        <img src="" width="600" height="600" alt="">
      </div>
      <button class="big-picture__cancel" type="button">×</button>
      <div class="big-picture__social">
        <div class="big-picture__social-header">
          <img class="big-picture__avatar" src="" width="35" height="35" alt="Аватар автора">
          <p class="big-picture__caption"></p>
          <p class="big-picture__likes">
            <span class="likes-count">0</span>
            <svg class="heart" width="23" height="21" viewBox="0 0 23 21">
              <path d="M11.5 21L9.8325 19.5218C3.91 14.2916 0 10.7234 0 6.3951C0 2.8823 2.783 0 6.325 0C8.326 0 10.2465 0.987 11.5 2.5446C12.7535 0.987 14.674 0 16.675 0C20.217 0 23 2.8823 23 6.3951C23 10.7234 19.09 14.2916 13.1675 19.5218L11.5 21Z"/>
            </svg>
          </p>
        </div>
        <div class="big-picture__social-footer">
          <div class="social__comment-count">0 из <span class="comments-count">0</span> комментариев</div>
          <ul class="social__comments"></ul>
          <button class="social__comments-loader" type="button">Загрузить еще</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Шаблоны для сообщений -->
  <template id="success">
    <div class="success">
      <div class="success__inner">
        <h2 class="success__title">Изображение успешно загружено</h2>
        <button type="button" class="success__button">Круто!</button>
      </div>
    </div>
  </template>

  <template id="error">
    <div class="error">
      <div class="error__inner">
        <h2 class="error__title">Ошибка загрузки файла</h2>
        <button type="button" class="error__button">Попробовать ещё раз</button>
      </div>
    </div>
  </template>

  <!-- Подключение библиотек -->
  <script src="https://cdn.jsdelivr.net/npm/nouislider@15.7.1/dist/nouislider.min.js"></script>
  <script src="vendor/pristine/pristine.min.js"></script>

  <!-- Подключение модулей JavaScript -->
  <script src="js/util.js" type="module"></script>
  <script src="js/data.js" type="module"></script>
  <script src="js/picture-renderer.js" type="module"></script>
  <script src="js/fullscreen-picture.js" type="module"></script>
  <script src="js/scale.js" type="module"></script>
  <script src="js/effects.js" type="module"></script>
  <script src="js/api.js" type="module"></script>
  <script src="js/message.js" type="module"></script>
  <script src="js/filters.js" type="module"></script>
  <script src="js/form.js" type="module"></script>
  <script src="js/main.js" type="module"></script>
</body>
</html>
